<!DOCTYPE html>
<html lang="he" dir="rtl"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>שברים משולבים, ולמה הם מגניבים | לא מדויק</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="שברים משולבים, ולמה הם מגניבים" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="אוהבים לטעון שהמתמטיקה היא כל כולה ערב רב של נוסחאות מפחידות בעלות משמעות לא ברורה. אני חושב שזה מאוד לא מדויק, אבל מדי פעם אכן מתפלקת לה איזו נוסחה שנראית מפחיד גם למי שכבר יש לו נסיון בסיסי כלשהו במתמטיקה. מה שהפחיד אותי בשעתו היו השברים המשולבים - שברים מהצורה החביבה $latex \frac{1}{1+\frac{1}{3+\frac{1}{1+\frac{1}{4}}}}$. כשרואים דבר כזה, התגובה המיידית של אדם שפוי צריכה להיות “מה, לעזאזל…”. בפוסט הזה אני רוצה להסביר מה, לעזאזל. מכיוון שאני חושב שבנושא הזה הדרך הטובה ביותר לדעת מה לעזאזל היא ללכלך את הידיים, חלקו השני של הפוסט יהיה יותר “חישובי” מהרגיל - אך חישובים שלדעתי הם יפים ומעניינים (ובלי לעשות אותם “בידיים”קצת קשה לראות את זה, לדעתי)." />
<meta property="og:description" content="אוהבים לטעון שהמתמטיקה היא כל כולה ערב רב של נוסחאות מפחידות בעלות משמעות לא ברורה. אני חושב שזה מאוד לא מדויק, אבל מדי פעם אכן מתפלקת לה איזו נוסחה שנראית מפחיד גם למי שכבר יש לו נסיון בסיסי כלשהו במתמטיקה. מה שהפחיד אותי בשעתו היו השברים המשולבים - שברים מהצורה החביבה $latex \frac{1}{1+\frac{1}{3+\frac{1}{1+\frac{1}{4}}}}$. כשרואים דבר כזה, התגובה המיידית של אדם שפוי צריכה להיות “מה, לעזאזל…”. בפוסט הזה אני רוצה להסביר מה, לעזאזל. מכיוון שאני חושב שבנושא הזה הדרך הטובה ביותר לדעת מה לעזאזל היא ללכלך את הידיים, חלקו השני של הפוסט יהיה יותר “חישובי” מהרגיל - אך חישובים שלדעתי הם יפים ומעניינים (ובלי לעשות אותם “בידיים”קצת קשה לראות את זה, לדעתי)." />
<link rel="canonical" href="/blog/2010/05/29/continued_fractions_1" />
<meta property="og:url" content="/blog/2010/05/29/continued_fractions_1" />
<meta property="og:site_name" content="לא מדויק" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2010-05-29T19:31:47+03:00" />
<script type="application/ld+json">
{"headline":"שברים משולבים, ולמה הם מגניבים","dateModified":"2010-05-29T19:31:47+03:00","datePublished":"2010-05-29T19:31:47+03:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/blog/2010/05/29/continued_fractions_1"},"url":"/blog/2010/05/29/continued_fractions_1","description":"אוהבים לטעון שהמתמטיקה היא כל כולה ערב רב של נוסחאות מפחידות בעלות משמעות לא ברורה. אני חושב שזה מאוד לא מדויק, אבל מדי פעם אכן מתפלקת לה איזו נוסחה שנראית מפחיד גם למי שכבר יש לו נסיון בסיסי כלשהו במתמטיקה. מה שהפחיד אותי בשעתו היו השברים המשולבים - שברים מהצורה החביבה $latex \\frac{1}{1+\\frac{1}{3+\\frac{1}{1+\\frac{1}{4}}}}$. כשרואים דבר כזה, התגובה המיידית של אדם שפוי צריכה להיות “מה, לעזאזל…”. בפוסט הזה אני רוצה להסביר מה, לעזאזל. מכיוון שאני חושב שבנושא הזה הדרך הטובה ביותר לדעת מה לעזאזל היא ללכלך את הידיים, חלקו השני של הפוסט יהיה יותר “חישובי” מהרגיל - אך חישובים שלדעתי הם יפים ומעניינים (ובלי לעשות אותם “בידיים”קצת קשה לראות את זה, לדעתי).","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link href="/blog/assets/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="/blog/assets/css/main.css">
  <link rel="shortcut icon" href="/blog/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/blog/favicon.ico" type="image/x-icon"><link type="application/atom+xml" rel="alternate" href="/blog/feed.xml" title="לא מדויק" /><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$latex','$'] ],
        processEscapes: true
      },
      TeX: {extensions: ["AMSmath.js","AMSsymbols.js"]},
      "HTML-CSS": { 
        linebreaks: { automatic: true }
      },
      SVG: { 
        linebreaks: { automatic: true } 
      }
    });
  </script>
  <!-- "https://www.gadial.net/wp-includes/js/xypic.js" -->

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  
</head>
<body><header>
  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="/blog/main">לא מדויק</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        
            
            <li class="nav-item">
                <a class="nav-link" href="/blog/main">דף הבית</a>
            </li>
            
        
            
            <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="dropdown1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">נושאים</a>
            <div class="dropdown-menu" aria-labelledby="dropdown1">
            
            <a class="dropdown-item text-right" href="/blog/analysis">אנליזה</a>
            
            <a class="dropdown-item text-right" href="/blog/algebra">אלגברה</a>
            
           </div>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/blog/categories">קטגוריות</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/blog/about/">אודות</a>
            </li>
            
        
      </ul>
      <form class="form-inline mt-2 mt-md-0" action="/blog/post_list.html" method="get">
        <input class="form-control mr-sm-2" type="text" placeholder="חיפוש" aria-label="חיפוש" name="s">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">חיפוש</button>
      </form>
    </div>
  </nav>
</header><main class="page-content" aria-label="Content" role="main">
      <div class="wrapper text-right">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">שברים משולבים, ולמה הם מגניבים</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2010-05-29T19:31:47+03:00" itemprop="datePublished">May 29, 2010
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>אוהבים לטעון שהמתמטיקה היא כל כולה ערב רב של נוסחאות מפחידות בעלות משמעות לא ברורה. אני חושב שזה מאוד לא מדויק, אבל מדי פעם אכן מתפלקת לה איזו נוסחה שנראית מפחיד גם למי שכבר יש לו נסיון בסיסי כלשהו במתמטיקה. מה שהפחיד אותי בשעתו היו <a href="http://he.wikipedia.org/wiki/%D7%A9%D7%91%D7%A8_%D7%9E%D7%A9%D7%95%D7%9C%D7%91">השברים המשולבים</a> - שברים מהצורה החביבה <span>$latex \frac{1}{1+\frac{1}{3+\frac{1}{1+\frac{1}{4}}}}$</span>. כשרואים דבר כזה, התגובה המיידית של אדם שפוי צריכה להיות “מה, לעזאזל…”. בפוסט הזה אני רוצה להסביר מה, לעזאזל. מכיוון שאני חושב שבנושא הזה הדרך הטובה ביותר לדעת מה לעזאזל היא ללכלך את הידיים, חלקו השני של הפוסט יהיה יותר “חישובי” מהרגיל - אך חישובים שלדעתי הם יפים ומעניינים (ובלי לעשות אותם “בידיים”קצת קשה לראות את זה, לדעתי).</p>

<p>בראש ובראשונה, הדבר הזה הוא בסך הכל שבר רגיל. תלמיד כיתה ה’ אמור כבר להיות מסוגל להבין מהו ולחשב את ערכו. במקרה של השבר שלעיל, למשל, פשוט צריך לעשות סדרה של חיבורים. <span>$latex 1+\frac{1}{4}=\frac{5}{4}$</span> ו-<span>$latex \frac{1}{\frac{5}{4}}=\frac{4}{5}$</span> כך שהשבר שווה ל-<span>$latex \frac{1}{1+\frac{1}{3+\frac{4}{5}}}$</span>; וכעת <span>$latex 3+\frac{4}{5}=\frac{19}{5}$</span> כך שנקבל שהשבר שווה ל-<span>$latex \frac{1}{1+\frac{5}{19}}$</span>; ולסיום נקבל שהוא שווה ל-<span>$latex \frac{19}{24}$</span>. מה שלא ברור הוא למה לבחור בדרך ייצוג כה מסורבלת ל-<span>$latex \frac{19}{24}$</span>, והתשובה הבסיסית היא - כי זו דרך הייצוג הטבעית והנכונה ביותר למספרים. לא מאמינים? חכו חכו.</p>

<p>ראשית בואו נוותר על הייצוג המסורבל והמזוויע טיפוגרפית. שבר משולב כללי הוא מהצורה <span>$latex a_{0}+\frac{1}{a_{1}+\frac{1}{a_{2}+\dots}}$</span> (כמובן שאפשר להגדיר שברים משולבים בצורה כללית יותר כך שבמונים יהיו מספרים השונים מ-1, אך זה מסבך את האנליזה ואינו הכרחי כאן ולכן אשתמש בהגדרה המצומצמת) ואת אותו דבר אפשר לתאר בצורה ברורה בעזרת הסימון <span>$latex a_{0}+\frac{1}{a_{1}+}\dots\frac{1}{a_{n}}$</span>. למשל, השבר המשולב שלעיל מיוצג בידי <span>$latex \frac{1}{1+}\frac{1}{3+}\frac{1}{1+}\frac{1}{4}$</span>.</p>

<p>השאלה הראשונה שאני רוצה לעסוק בה היא זו - נניח שיש לנו מספר רציונלי, <span>$latex \frac{a}{b}$</span>; איך מציגים אותו כשבר משולב? למשל, <span>$latex \frac{19}{24}$</span>. מה עושים כדי לתת לו את הצורה ה”קנונית”? כדי לסבך עוד קצת את העניינים אעדיף לדבר על שבר שגדול מ-1, נניח <span>$latex \frac{67}{24}$</span>. את הייצור הזה אפשר לייצג כ-<span>$latex 2+\frac{19}{24}$</span>, כך ש-<span>$latex a_{0}=2$</span> במקרה שלנו. מה עכשיו? אנחנו רוצים להחליף את ה-<span>$latex \frac{19}{24}$</span> בגורם מהצורה אחד חלקי משהו, אז ראשית כל נכתוב <span>$latex \frac{19}{24}=\frac{1}{\frac{24}{19}}$</span>, וכעת במכנה יש לנו שוב שבר מדומה ואפשר לפרק אותו לחלק ממשי וחלק שברי: <span>$latex \frac{1}{1+\frac{5}{19}}$</span> (כלומר <span>$latex a_{1}=1$</span>). נחזור על התעלול שוב עבור <span>$latex \frac{5}{19}$</span> ונקבל <span>$latex a_{2}=3$</span> ו”שארית”של <span>$latex \frac{4}{5}$</span>; וכשנטפל ב-<span>$latex \frac{5}{4}$</span> נקבל <span>$latex 1+\frac{1}{4}$</span> והמשחק יסתיים. זה תהליך שיטתי ופשוט למדי, וייתכן שלחדי העין שבכם הוא הזכיר תהליך אחר במתמטיקה, שידוע עוד מימי היוונים הקדמונים - האלגוריתם האוקלידי.</p>

<p>בהינתן שני מספרים טבעיים <span>$latex a,b$</span>, האלגוריתם האוקלידי מוצא את המחלק המשותף המקסימלי שלהם: מספר טבעי <span>$latex d$</span> שמחלק הן את <span>$latex a$</span> והן את <span>$latex b$</span> והוא הגדול ביותר בעל תכונה זו. עבור <span>$latex 67$</span> ו-<span>$latex 24$</span> המחלק המקסימלי הזה הוא המספר הלא מרשים <span>$latex 1$</span> (במקרה כזה אומרים ש-67 ו-24 הם “זרים”), אבל מן הסתם יש דוגמאות מעניינות יותר - למשל המחלק המשותף המקסימלי של <span>$latex 78$</span> ו-<span>$latex 42$</span> הוא <span>$latex 6$</span>.</p>

<p>כדי למצוא מחלק מקסימלי אפשר לעשות דברים מטופשים כמו לעבור על כל המספרים הקטנים מ-<span>$latex a$</span> ו-<span>$latex b$</span> ולבדוק אם הם מחלקים אותם וכדומה, אבל מבחינה חישובית זו שיטה איטית ומייגעת. האלגוריתם האוקלידי, לעומת זאת, פועל מהר מאוד (פורמלית - זמן לוגריתמי בגודל המספרים המעורבים). למעשה, היעילות של האלגוריתם האוקלידי היא הבסיס לתורת המספרים האלגוריתמית; רבים מהחישובים שמתבצעים בתורה זו מסתמכים ברמה זו או אחרת על האלגוריתם האוקלידי (בפרט על גרסה מורחבת שלו, שמאפשרת למצוא <span>$latex x,y$</span> שלמים (לא בהכרח חיוביים) כך ש-<span>$latex ax+by=d$</span>, כש-<span>$latex d$</span> הוא המחלק המשותף המקסימלי) ואלמלא הוא היה יעיל, מספר הדברים שניתן לבצע ביעילות היה קטן משמעותית (בפרט, שימוש קריטי שלו הוא למציאת הופכי מודולו <span>$latex n$</span> של מספרים, מה שהוא הבסיס למימוש פעולות חשבון ב-<span>$latex \mathbb{Z}_{n}^{*}$</span> - אחרת, אין אפשרות לבצע חלוקה).</p>

<p>הרעיון שמאחורי האלגוריתם האוקלידי פשוט מאוד: בהינתן <span>$latex a,b$</span> (נניח ש-<span>$latex a$</span> גדול יותר מ-<span>$latex b$</span>) אפשר לחלק את <span>$latex a$</span> ב-<span>$latex b$</span> ולקבל שארית <span>$latex r$</span> (במילים אחרות, למצוא <span>$latex q,r$</span> כך ש-<span>$latex a=qb+r$</span> ו-<span>$latex 0&lt;r&lt;b$</span>). האבחנה המרכזית היא שהמחלק המשותף המקסימלי של <span>$latex a,b$</span> הוא גם המחלק המשותף המקסימלי של <span>$latex b,r$</span> (למה?) ולכן אפשר להפעיל את האלגוריתם באופן רקורסיבי על <span>$latex b,r$</span>, כשתנאי העצירה שלנו הוא שאם <span>$latex b$</span> מחלק את <span>$latex a$</span> ללא שארית, אז המחלק המשותף המקסימלי שלהם הוא <span>$latex b$</span> עצמו.</p>

<p>בואו ונראה איך זה עובד עבור <span>$latex 67$</span> ו-<span>$latex 24$</span>:</p>

<p><span>$latex 67=2\times24+19$</span></p>

<p><span>$latex 24=1\times19+5$</span></p>

<p><span>$latex 19=3\times5+4$</span></p>

<p><span>$latex 5=1\times4+1$</span></p>

<p><span>$latex 4=4\times1+0$</span></p>

<p>ובשלב האחרון סיימנו: קיבלנו <span>$latex a=4,b=1$</span> וראינו ש-<span>$latex b$</span> מחלק את <span>$latex a$</span> ללא שארית. אלא שמה שמעניין כאן הוא דווקא אותם ערכי <span>$latex q$</span> שהצטברו במהלך הדרך (המספרים שמשמאל לסימן ה-<span>$latex \times$</span> בכל שורה) - הסתכלו עליהם - האם הם נראים מוכרים?</p>

<p>הבה ונציג את החלוקות שמבצע האלגוריתם האוקלידי בדרך אחרת. במקום לדבר על חלוקה עם שארית, נעבוד ישירות עם שברים:</p>

<p><span>$latex \frac{67}{24}=2+\frac{19}{24}$</span></p>

<p><span>$latex \frac{24}{19}=1+\frac{5}{19}$</span></p>

<p><span>$latex \frac{19}{5}=3+\frac{4}{5}$</span></p>

<p><span>$latex \frac{5}{4}=1+\frac{1}{4}$</span></p>

<p><span>$latex \frac{4}{1}=4+0$</span></p>

<p>וזה כבר מאוד מזכיר את התהליך שתיארתי למעלה, של בניית השבר המשולב עבור <span>$latex \frac{19}{24}$</span>. המסקנה היא ש-<span>$latex \frac{67}{24}$</span> מתואר בידי השבר המשולב <span>$latex 2+\frac{1}{1+}\frac{1}{3+}\frac{1}{1+}\frac{1}{4}$</span>, ושבאופן כללי אפשר למצוא את השבר המשולב עבור <span>$latex \frac{a}{b}$</span> ביעילות באמצעות האלגוריתם האוקלידי - ובגלל שהעצירה של האלגוריתם האוקלידי מובטחת, גם העצירה של בניית השבר המשולב מובטחת. מה שעוד לא ברור כאן הוא שאם מספר מיוצג בידי שבר משולב, הייצוג הזה הוא יחיד, ולא ייתכן ששני שברים משולבים ייצגו את אותו המספר; גם את זה לא מסובך להוכיח אך ההוכחה טכנית ואפסח עליה.</p>

<p>עד כה לא ממש ברור ממה ההתלהבות הגדולה. אז כן, מצאנו דרך חדשה ומופרעת להציג שברים, אך במה היא טובה יותר מלכתוב סתם <span>$latex \frac{a}{b}$</span>? החלק המעניין מתחיל כשאנו רוצים לייצג באמצעות שברים משולבים מספרים שלא ניתן לייצג באמצעות שברים רגילים, כלומר מספרים אי רציונליים. לצורך כך יהיה הכרחי להרחיב קצת את ההגדרה של שברים משולבים, שכן לא קשה לראות שכרגע כל שבר משולב שאנו מדברים עליו הוא מספר רציונלי (פשוט “פותחים”אותו באופן שעליו כבר דיברתי קודם).</p>

<p>אם כן, מה שנעשה הוא להרשות לתהליך של יצירת השבר להימשך עד אינסוף. במקום שנייצג שבר משולב עם סדרה סופית <span>$latex a_{0}+\frac{1}{a_{1}+}\dots\frac{1}{a_{n}}$</span>, פשוט נרשה לסדרה להיות אינסופית: <span>$latex a_{0}+\frac{1}{a_{1}+}\dots$</span>. למי שמטרידה אותו השאלה איך אפשר לתת משמעות פורמלית לכזה דבר, התשובה פשוטה: <span>$latex a_{0}+\frac{1}{a_{1}+}\dots=\lim_{n\to\infty}a_{0}+\frac{1}{a_{1}+}\dots\frac{1}{a_{n}}$</span>. במילים אחרות, אם יש לנו סדרה אינסופית <span>$latex a_{0},a_{1},\dots$</span> אנחנו יכולים לקבל ממנה סדרה אינסופית של מספרים רציונליים שמתקבלים מכך ש”קוטמים”את השבר המשולב בכל פעם בשלב מתקדם יותר. כמובן שלא ברור מיידית שהסדרה הזו אכן שואפת למספר ספציפי יחיד; כדי להבין יותר טוב מה הולך כאן, נרצה קודם כל להבין את סדרת הקירובים שמגדיר שבר משולב. ההמשך יהיה יחסית טכני (אם כי לטעמי מעניין מאוד), ואת השורה התחתונה כבר אכתוב בפוסט הבא, לטובת אלו שלא יצליחו לעקוב.</p>

<p>באופן כללי, אם <span>$latex a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}+}\dots$</span> הוא שבר משולב (סופי או אינסופי) אפשר להגדיר סדרה <span>$latex \frac{A_{0}}{B_{0}},\frac{A_{1}}{B_{1}},\frac{A_{2}}{B_{2}},\dots$</span> של הקירובים המתקבלים משלבי הביניים: <span>$latex \frac{A_{0}}{B_{0}}=a_{0}$</span>, ו-<span>$latex \frac{A_{1}}{B_{1}}=a_{0}+\frac{1}{a_{1}}$</span> וכן הלאה. השאלה המעניינת ביותר כאן לטעמי היא “האם אפשר לכתוב את <span>$latex A_{n},B_{n}$</span> בצורה פשוטה כפונקציות של <span>$latex a_{0},\dots,a_{n}$</span>?” והתשובה המפתיעה היא שלא רק שאפשר לעשות את זה, אלא גם ש-<span>$latex A_{n}$</span> ו-<span>$latex B_{n}$</span> מאוד, מאוד דומים.</p>

<p>בואו נראה לאט לאט כיצד נבנה שבר משולב. בשלב הראשון יש לנו <span>$latex \frac{a_{0}}{1}$</span> ותו לא. בשלב השני יש לנו את <span>$latex a_{0}+\frac{1}{a_{1}}$</span>; כדי לראות למה זה שווה אנחנו מבצעים מכנה משותף ומקבלים <span>$latex \frac{a_{0}a_{1}+1}{a_{1}}$</span>. בשלב השלישי יש לנו <span>$latex a_{0}+\frac{1}{a_{1}+\frac{1}{a_{2}}}$</span> וכאן המכנה המשותף נוצר בשני שלבים: ראשית כל מתקבל <span>$latex a_{0}+\frac{1}{\frac{a_{1}a_{2}+1}{a_{2}}}$</span>, ולאחר מכן המכנה “מתהפך”, מקבלים <span>$latex a_{0}+\frac{a_{2}}{a_{1}a_{2}+1}$</span>, ולבסוף מתקבל <span>$latex \frac{a_{0}a_{1}a_{2}+a_{0}+a_{2}}{a_{1}a_{2}+1}$</span>.</p>

<p>חדי העין בוודאי שמו לב לדמיון שבין המונה של <span>$latex a_{0}+\frac{1}{a_{1}}$</span> ובין <strong>המכנה</strong> של <span>$latex a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}}$</span>: הראשון הוא <span>$latex a_{0}a_{1}+1$</span>, השני הוא <span>$latex a_{1}a_{2}+1$</span>. זהו כמובן אינו מקרה: הרי המכנה של <span>$latex a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}}$</span> התקבל מהמונה של <span>$latex a_{1}+\frac{1}{a_{2}}$</span>. זכרו - כדי לחשב את <span>$latex a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}}$</span> אמרנו “בואו קודם כל נשכח מה-<span>$latex a_{0}$</span> ונסתכל על המכנה <span>$latex a_{1}+\frac{1}{a_{2}}$</span>”, אבל מכנה זה הוא בעצמו שבר משולב “רגיל”. אחרי שגמרנו לחשב אותו ולהביא אותו לצורה <span>$latex \frac{x}{y}$</span> ביצענו בו “היפוך” שבו הוחלפו המונה והמכנה.</p>

<p>ההבנה הזו, שהמכנה של שבר משולב הוא בעצם המונה של שבר משולב קצת יותר פשוט, מאפשרת לנו לתאר בצורה קצת יותר נחמדה את המונה והמכנה. נשתמש בסימון <span>$latex \left[a_{0},a_{1},\dots,a_{n}\right]$</span> כדי לתאר את המונה של השבר המשולב, ועכשיו יש לנו תיאור יפה לקירובים: <span>$latex \frac{A_{n}}{B_{n}}=\frac{\left[a_{0},\dots,a_{n}\right]}{\left[a_{1},\dots,a_{n}\right]}$</span>. זה עדיין לא עוזר לנו להבין איך בדיוק נראית המפלצת שמיוצגת על ידי <span>$latex \left[a_{0},\dots,a_{n}\right]$</span>, אבל זו התחלה טובה.</p>

<p>כעת בואו ונתבונן שניה בשבר המשולב <span>$latex a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}+}\dots\frac{1}{a_{n}}$</span>. מצד אחד, אפשר לכתוב אותו כ-<span>$latex \frac{\left[a_{0},\dots,a_{n}\right]}{\left[a_{1},\dots,a_{n}\right]}$</span> כפי שכבר אמרתי. מצד שני, אפשר לכתוב אותו כ-<span>$latex a_{0}+\frac{\left[a_{2},\dots,a_{n}\right]}{\left[a_{1},\dots,a_{n}\right]}$</span>, שכן אפשר “לחשב עד הסוף” את <span>$latex a_{1}+\frac{1}{a_{2}+}\dots\frac{1}{a_{n}}$</span> ולבסוף לבצע היפוך שלו. מכאן מתקבלת בקלות הנוסחה הבאה: <span>$latex \left[a_{0},\dots,a_{n}\right]=a_{0}\left[a_{1},\dots,a_{n}\right]+\left[a_{2},\dots,a_{n}\right]$</span>. זו כבר ההתחלה של הגיון בשגעון - ראשית, כעת יש לנו דרך רקורסיבית פשוטה לחשב את <span>$latex \left[a_{0},\dots,a_{n}\right]$</span>; אבל שנית, כעת נוכל להוכיח באינדוקציה תיאור כללי ולא רקורסיבי של המבנה של <span>$latex \left[a_{0},\dots,a_{n}\right]$</span> שהתגלה, כמו מיליארד דברים אחרים, בידי אוילר.</p>

<p>הכלל נשמע טיפה מוזר ומפחיד בשמיעה ראשונה, אבל עברנו את פרעה ואת “<a href="http://www.gadial.net/?p=504">איך בוטלה המתמטיקה</a>“ונעבור גם את זה: <span>$latex \left[a_{0},\dots,a_{n}\right]$</span> הוא סכום של מכפלות שמתקבלות באופן הבא: ראשית, המכפלה <span>$latex a_{1}a_{2}\cdots a_{n}$</span>. שנית, המכפלה <span>$latex a_{1}a_{2}\cdots a_{n}$</span> כשהוסר ממנה זוג איברים סמוכים (נניח, <span>$latex a_{3}a_{4}$</span> הוסר ממנה) - כל המכפלות האפשריות שיכולות להתקבל מהסרת זוג כזה משתתפות בסכום. שלישית, כל המכפלות שמתקבלות מהסרת <strong>שני</strong> זוגות זרים (כלומר, למשל, <span>$latex a_{2}a_{3}$</span> ו-<span>$latex a_{7}a_{8}$</span>) וכן הלאה. אם כל האיברים הוסרו ממכפלה היא הופכת להיות “המכפלה הריקה” - 1 (שכן 1 הוא האיבר הנייטרלי לכפל, ולכן הוא מתאים רעיונית לייצוג מכפלה ריקה כשם ש-0 מתאים רעיונית לייצוג סכום ריק).</p>

<p>דוגמאות פשוטות עוזרות כמובן להבין. <span>$latex \left[a_{0}\right]=a_{0}$</span> שכן יש לנו את המכפלה של “כל” האיברים, וזהו (אין זוגות סמוכים שאפשר להוריד). <span>$latex \left[a_{0}a_{1}\right]=a_{0}a_{1}+1$</span> שכן יש לנו את המכפלה של כל האיברים <span>$latex a_{0}a_{1}$</span> ואת המכפלה הריקה <span>$latex 1$</span>. <span>$latex \left[a_{0},a_{1},a_{2}\right]=a_{0}a_{1}a_{2}+a_{0}+a_{2}$</span>, כש-<span>$latex a_{1}$</span> לא מופיע בסכום לבדו שכן אין זוג <strong>סמוך</strong> שניתן להוריד ויותיר רק אותו. לבסוף, הנה דוגמה יותר מורכבת:</p>

<p><span>$latex \left[a_{0},a_{1},a_{2},a_{3},a_{4}\right]=a_{0}a_{1}a_{2}a_{3}a_{4}+$</span></p>

<p><span>$latex a_{0}a_{1}a_{2}+a_{0}a_{1}a_{4}+a_{1}a_{2}a_{3}+a_{2}a_{3}a_{4}+$</span></p>

<p><span>$latex a_{0}+a_{2}+a_{4}$</span></p>

<p>כש-<span>$latex a_{2}$</span> התקבל מכך שהסרנו את הזוגות <span>$latex a_{0}a_{1}$</span> ו-<span>$latex a_{3}a_{4}$</span>.</p>

<p>מבלבל? כן, אבל לא קשה כל כך להוכחה באינדוקציה בעזרת הנוסחה <span>$latex \left[a_{0},\dots,a_{n}\right]=a_{0}\left[a_{1},\dots,a_{n}\right]+\left[a_{2},\dots,a_{n}\right]$</span>. את הבסיס (עבור <span>$latex \left[a_{0}\right]$</span> ו-<span>$latex \left[a_{0}a_{1}\right]$</span>) אפשר לראות ישירות; באופן כללי, הבה ונראה מה קורה עם <span>$latex \left[a_{0},\dots,a_{n}\right]$</span>. ראשית, הגורם <span>$latex \left[a_{2},\dots,a_{n}\right]$</span> תופס את כל המחוברים שהתקבלו על ידי הסרת הזוג <span>$latex a_{0}a_{1}$</span> ואולי עוד דברים, כך שהגורם הזה בסדר; ואילו <span>$latex a_{0}\left[a_{1},\dots,a_{n}\right]$</span> תופס את כל הגורמים שהתקבלו ללא הסרת <span>$latex a_{0}$</span> מההתחלה, ומכיוון שאם מסירים את <span>$latex a_{0}$</span> זה חייב להיות במסגרת הזוג <span>$latex a_{0}a_{1}$</span> תפסנו את כל המקרים.</p>

<p>יופי, אז יש לנו תיאור די מפורש של <span>$latex \left[a_{0},\dots,a_{n}\right]$</span>; מה עכשיו? ראשית, עכשיו ברור ש-<span>$latex \left[a_{0},\dots,a_{n}\right]$</span> הוא ביטוי סימטרי, במובן זה שהוא זהה ל-<span>$latex \left[a_{n},\dots,a_{0}\right]$</span>, ולכן את נוסחת הנסיגה <span>$latex \left[a_{0},\dots,a_{n}\right]=a_{0}\left[a_{1},\dots,a_{n}\right]+\left[a_{2},\dots,a_{n}\right]$</span> אפשר לכתוב גם מהסוף להתחלה, בתור <span>$latex \left[a_{n},\dots,a_{0}\right]=a_{n}\left[a_{n-1},\dots,a_{0}\right]+\left[a_{n-2},\dots,a_{0}\right]$</span>. עכשיו, מכיוון ש-<span>$latex A_{n}=\left[a_{0},\dots,a_{n}\right]$</span> ו-<span>$latex B_{n}=\left[a_{1},\dots,a_{n}\right]$</span>, קיבלנו את נוסחת הנסיגה <span>$latex A_{n}=a_{n}A_{n-1}+A_{n-2}$</span> ו-<span>$latex B_{n}=a_{n}B_{n-1}+B_{n-2}$</span>. אותה נוסחת נסיגה מתארת הן את המונה והן את המכנה וזה כמובן לא מפתיע בהתחשב בכך שכבר אמרתי שהם בעצם אותו הדבר.</p>

<p>מנוסחאות הנסיגה הללו אפשר לגזור נוסחה שקושרת את <span>$latex A_{n},B_{n}$</span> והיא לב-לבו של העסק. הבה ונסמן ב-<span>$latex \Delta_{n}$</span> את הביטוי הבא: <span>$latex \Delta_{n}=A_{n}B_{n-1}-A_{n-1}B_{n}$</span>. למה הוא שווה? מסתבר שניתן לחשב אותו במדוייק וערכו מאוד פשוט. כדי לראות זאת, נשתמש בנוסחת הנסיגה ונקבל את הפיתוח הבא:</p>

<p><span>$latex \Delta_{n}=A_{n}B_{n-1}-A_{n-1}B_{n}=\left(a_{n}A_{n-1}+A_{n-2}\right)B_{n-1}-A_{n-1}\left(a_{n}B_{n-1}+B_{n-2}\right)=$</span></p>

<p><span>$latex B_{n-1}A_{n-2}-A_{n-1}B_{n-2}=-\Delta_{n-1}$</span></p>

<p>ולא קשה לראות כי <span>$latex \Delta_{1}=A_{1}B_{0}-A_{0}B_{1}=1$</span>, כך שקיבלנו בסך הכל ש-<span>$latex \Delta_{n}=\left(-1\right)^{n-1}$</span>. הבה ונכתוב את הנוסחה במפורש:</p>

<p><span>$latex A_{n}B_{n-1}-A_{n-1}B_{n}=\left(-1\right)^{n-1}$</span></p>

<p>זו לדעתי דוגמה לנוסחה “יפה”, ובכלל - כל החיפוש אחר התכונות של <span>$latex A_{n},B_{n}$</span> מהווה לטעמי דוגמה למתמטיקה שהיא מצד אחד טכנית וחשבונית מאוד, ומצד שני היא יפה ואף יצירתית.</p>

<p>טוב, חדל התלהבות, נשאלת השאלה מה יצא לנו מכל זה. התשובה היא שיצא לנו המון - עכשיו אנחנו יודעים לתאר היטב את ההתנהגות של הסדרה <span>$latex \frac{A_{0}}{B_{0}},\frac{A_{1}}{B_{1}},\dots$</span>. בפרט, אנחנו יודעים לתאר בקלות את ההפרש בין שני גורמים סמוכים. נסו לחשוב שנייה מדוע, ואז הציצו בשורה הבאה:</p>

<p><span>$latex \frac{A_{n}}{B_{n}}-\frac{A_{n-1}}{B_{n-1}}=\frac{A_{n}B_{n-1}-A_{n-1}B_{n}}{B_{n}B_{n-1}}=\frac{\left(-1\right)^{n-1}}{B_{n}B_{n-1}}$</span>.</p>

<p>מכיוון ש-<span>$latex B$</span>-ים חיוביים תמיד, נובע שאם <span>$latex n$</span> אי זוגי, אז <span>$latex \frac{A_{n}}{B_{n}}$</span> גדול מ-<span>$latex \frac{A_{n-1}}{B_{n-1}}$</span> (הפרשם חיובי) ואחרת הוא קטן ממנו. מכאן שסדרת הקירובים “מזפזפת” מעלה ומטה. אבל האם היא נרגעת? ובכן, בואו ננסה לראות מה קורה כשמשווים איבר לא לקודמו, אלא לזה שלפניו, כלומר מנסים לחשב את <span>$latex \frac{A_{n}}{B_{n}}-\frac{A_{n-2}}{B_{n-2}}$</span>. הדרך הפשוטה ביותר לעשות זאת היא באמצעות תעלול נפוץ מאוד בחשבון: להוסיף ולהחסיר את אותו איבר. נקבל:</p>

<p><span>$latex \frac{A_{n}}{B_{n}}-\frac{A_{n-2}}{B_{n-2}}=\left(\frac{A_{n}}{B_{n}}-\frac{A_{n-1}}{B_{n-1}}\right)+\left(\frac{A_{n-1}}{B_{n-1}}-\frac{A_{n-2}}{B_{n-2}}\right)=\frac{\left(-1\right)^{n-1`}}{B_{n}B_{n-1}}+\frac{\left(-1\right)^{n-2}}{B_{n-1}B_{n-2}}=\frac{\left(-1\right)^{n-1}}{B_{n-1}}\left[\frac{1}{B_{n}}-\frac{1}{B_{n-2}}\right]$</span></p>

<p>האיבר בסוגריים המרובעים הוא ללא ספק שלילי, כי הוא מכיל משהו חיובי במכנה ו-<span>$latex B_{n-2}-B_{n}$</span> במונה, אבל ב-<span>$latex B_{n}$</span> גדול מ-<span>$latex B_{n-2}$</span> כי הוא מכיל את <span>$latex B_{n-2}$</span> כחלק מהסכום שלו (מדוע?). מסקנה: עבור ערכים זוגיים של <span>$latex n$</span>, אנחנו מקבלים שההפרש כולו חיובי, ולכן הסדרה של ה-<span>$latex \frac{A_{n}}{B_{n}}$</span>-ים הזוגיים היא עולה, ואילו סדרת ה-<span>$latex \frac{A_{n}}{B_{n}}$</span>-ים האי זוגיים היא יורדת; וסדרת האיברים הזוגיים חסומה מלמעלה על ידי סדרת האיברים האי זוגיים (ובאופן סימטרי, סדרת האיברים האי זוגיים חסומה מלמטה על ידי סדרת האיברים הזוגיים). כאן נכנס לתמונה משפט בסיסי מחשבון אינפיניטסימלי: אם יש לנו שתי סדרות מספרים, האחת עולה והשנייה יורדת, כך שהמרחק ביניהן שואף לאפס - הן מתכנסות, ולאותו הגבול (במקרה שלנו המרחק הוא <span>$latex \frac{\left(-1\right)^{n-1}}{B_{n}B_{n-1}}$</span> והוא בוודאי שואף לאפס כי ה-<span>$latex B_{n}$</span>-ים שואפים לאינסוף).</p>

<p>הגענו לשורה התחתונה: אם ניקח סדרה <strong>כלשהי</strong> של מספרים טבעיים ונתבונן בשבר המשולב שהיא מגדירה, <span>$latex a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}+}\dots$</span>, נקבל תמיד שהשבר הזה מתכנס למספר ממשי כלשהו. השאלה שנותרה היא האם עבור <strong>כל</strong> מספר ממשי קיים שבר משולב שמתכנס אליו, ואני מניח שאתם מנחשים שהתשובה חיובית. מספיק לדבר על מספרים ממשיים חיוביים, כי עבור מספרים שליליים השינוי היחיד שיידרש הוא שהאיבר <span>$latex a_{0}$</span> יהיה שלילי.</p>

<p>ניקח אם כן מספר ממשי <span>$latex \alpha$</span> שהוא אי רציונלי (ברציונליים כבר טיפלנו). אפשר לפרק אותו לשני חלקים - החלק השלם <span>$latex a_{0}$</span>, שהוא המספר הטבעי הגדול ביותר שעודנו קטן מ-<span>$latex \alpha$</span>; והחלק השברי, שהוא מספר ממשי חיובי קטן מ-1. מכיוון שהוא קטן מ-1, ניתן לכתוב אותו בתור <span>$latex \frac{1}{\alpha_{1}}$</span>. אם כן: <span>$latex \alpha=a_{0}+\frac{1}{\alpha_{1}}$</span>. אני מניח שאתם מבינים מה יבוא כעת: אם <span>$latex \alpha_{1}$</span> אי רציונלי (אחרת <span>$latex \alpha$</span> היה רציונלי - מדוע?) ולכן נחזור על התעלול גם עבורו ונקבל <span>$latex \alpha=a_{0}+\frac{1}{a_{1}+\frac{1}{\alpha_{2}}}$</span> וכן הלאה וכן הלאה. כל שנשאר להבין הוא האם התוצאה אכן מתכנסת אל <span>$latex \alpha$</span> - ואם כן, כמה מהר?</p>

<p>לשם כך נשים לב לרגע לעובדה שלא באמת השתמשנו במה שעוללנו ל-<span>$latex A_{n},B_{n}$</span> בכך שה-<span>$latex a_{n}$</span>-ים כולם שלמים. זה מאפשר לנו לכתוב את <span>$latex \alpha$</span> בתור “שבר משולב” סופי אם נרשה לאיבר האחרון להיות לא שלם, דהיינו <span>$latex \alpha=\frac{\left[a_{0},a_{1},\dots,a_{n},\alpha_{n+1}\right]}{\left[a_{1},a_{2},\dots,a_{n},\alpha_{n+1}\right]}$</span>. אם נשתמש כאן בנוסחת הנסיגה שכבר מצאנו למונה והמכנה, אז אפשר לכתוב <span>$latex \alpha=\frac{\alpha_{n+1}A_{n}+A_{n-1}}{\alpha_{n+1}B_{n}+B_{n-1}}$</span>. עכשיו, כדי לראות עד כמה <span>$latex \frac{A_{n}}{B_{n}}$</span> הוא קירוב טוב ל-<span>$latex \alpha$</span> נחסר את האחד מהשני ונקבל:</p>

<p><span>$latex \alpha-\frac{A_{n}}{B_{n}}=\frac{\alpha_{n+1}A_{n}+A_{n-1}}{\alpha_{n+1}B_{n}+B_{n-1}}-\frac{A_{n}}{B_{n}}=\frac{A_{n-1}B_{n}+A_{n}B_{n-1}}{B_{n}\left(\alpha_{n+a}B_{n}+B_{n-1}\right)}=\frac{\left(-1\right)^{n-1}}{B_{n}\left(\alpha_{n+a}B_{n}+B_{n-1}\right)}$</span></p>

<p>כאן שוב השתמשנו בנוסחה הקסומה <span>$latex A_{n}B_{n-1}-A_{n-1}B_{n}=\left(-1\right)^{n-1}$</span>. ניקח ערך מוחלט לביטוי, ונקבל בסופו של דבר ש:</p>

<p><span>$latex \left|\alpha-\frac{A_{n}}{B_{n}}\right|&lt;\frac{1}{B_{n}B_{n+1}}$</span> (מאיפה ה-<span>$latex B_{n+1}$</span> צץ פתאום? הוא קטן יותר מהגורם שבתוך הסוגריים במכנה - מדוע?).</p>

<p>ושוב, מכיוון ש-<span>$latex B_{n}$</span> היא סדרה עולה, נובע מכך ש-<span>$latex \frac{A_{n}}{B_{n}}$</span> מתכנסת ל-<span>$latex \alpha$</span>, בדיוק כפי שרצינו. לא רק זה - קצב ההתכנסות הוא ריבועי; אך על כך ארחיב בפוסט הבא.</p>

  </div>

  <hr />
  <p>
    נהניתם? התעניינתם? אם תרצו, אתם מוזמנים לתת טיפ:
  </p>
  <a href='https://ko-fi.com/H2H5XFBQ' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://az743702.vo.msecnd.net/cdn/kofi2.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a><a class="u-url" href="/blog/2010/05/29/continued_fractions_1" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">לא מדויק</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">לא מדויק</li><li><a class="u-email" href="mailto:gadial@gmail.com">gadial@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.facebook.com/%D7%9C%D7%90-%D7%9E%D7%93%D7%95%D7%99%D7%A7-163347110378474"><svg class="svg-icon"><use xlink:href="/blog/assets/minima-social-icons.svg#facebook"></use></svg> <span class="username"></span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>בלוג על מתמטיקה ומדעי המחשב</p>
      </div>
    </div>

  </div>

</footer>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="/blogassets/js/jquery-slim.min.js"><\/script>')</script><script src="/blog/assets/js/bootstrap.bundle.js"></script></body>

</html>
