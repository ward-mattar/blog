<!DOCTYPE html>
<html lang="he" dir="rtl"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>דיון שאינו חסר תוחלת במשתנים מקריים | לא מדויק</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="דיון שאינו חסר תוחלת במשתנים מקריים" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="בואו נדבר על כסף. רולטה. נניח שאני מהמר בשיטת כך-וכך, בכמה אני זוכה? מכיוון שרולטה היא עסק הסתברותי ובכל משחק אני זוכה או מפסיד משהו שונה, עדיף לשאול שאלה יותר מדוייקת - בכמה בממוצע אני זוכה? נניח שאני משחק אלף סיבובים ומרוויח בסך הכל אלף ש”ח, אפשר לומר שבממוצע, זכיתי בש”ח אחד לסיבוב (אפילו אם מה שקרה בפועל הוא שבכל סיבוב הרווחתי מאה ש”ח או הפסדתי מאה ש”ח)." />
<meta property="og:description" content="בואו נדבר על כסף. רולטה. נניח שאני מהמר בשיטת כך-וכך, בכמה אני זוכה? מכיוון שרולטה היא עסק הסתברותי ובכל משחק אני זוכה או מפסיד משהו שונה, עדיף לשאול שאלה יותר מדוייקת - בכמה בממוצע אני זוכה? נניח שאני משחק אלף סיבובים ומרוויח בסך הכל אלף ש”ח, אפשר לומר שבממוצע, זכיתי בש”ח אחד לסיבוב (אפילו אם מה שקרה בפועל הוא שבכל סיבוב הרווחתי מאה ש”ח או הפסדתי מאה ש”ח)." />
<link rel="canonical" href="http://gadial.net/2010/08/14/random_variables/" />
<meta property="og:url" content="http://gadial.net/2010/08/14/random_variables/" />
<meta property="og:site_name" content="לא מדויק" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2010-08-14T12:18:33+00:00" />
<script type="application/ld+json">
{"dateModified":"2010-08-14T12:18:33+00:00","datePublished":"2010-08-14T12:18:33+00:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://gadial.net/2010/08/14/random_variables/"},"url":"http://gadial.net/2010/08/14/random_variables/","description":"בואו נדבר על כסף. רולטה. נניח שאני מהמר בשיטת כך-וכך, בכמה אני זוכה? מכיוון שרולטה היא עסק הסתברותי ובכל משחק אני זוכה או מפסיד משהו שונה, עדיף לשאול שאלה יותר מדוייקת - בכמה בממוצע אני זוכה? נניח שאני משחק אלף סיבובים ומרוויח בסך הכל אלף ש”ח, אפשר לומר שבממוצע, זכיתי בש”ח אחד לסיבוב (אפילו אם מה שקרה בפועל הוא שבכל סיבוב הרווחתי מאה ש”ח או הפסדתי מאה ש”ח).","headline":"דיון שאינו חסר תוחלת במשתנים מקריים","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link href="/assets/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/favicon.ico" type="image/x-icon"><link type="application/atom+xml" rel="alternate" href="http://gadial.net/feed.xml" title="לא מדויק" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-3924539-2', 'auto');
  ga('send', 'pageview');
}
</script>
  
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$latex','$'] ],
        processEscapes: true
      },
      TeX: {extensions: ["AMSmath.js","AMSsymbols.js"]},
      "HTML-CSS": { 
        linebreaks: { automatic: true }
      },
      SVG: { 
        linebreaks: { automatic: true } 
      }
    });
  </script>
  <!-- "https://www.gadial.net/wp-includes/js/xypic.js" -->

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  
</head>
<body><header>
  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="/">לא מדויק</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        
            
            <li class="nav-item">
                <a class="nav-link" href="/whats_going_on">מה הולך פה?</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/">דף הבית</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/categories">קטגוריות</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/random">דף אקראי</a>
            </li>
            
        
            
            <li class="nav-item">
                <a class="nav-link" href="/about/">אודות</a>
            </li>
            
        
      </ul>
      <form class="form-inline mt-2 mt-md-0" action="/post_list/" method="get">
        <input class="form-control mr-sm-2" type="text" placeholder="חיפוש" aria-label="חיפוש" name="s">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">חיפוש</button>
      </form>
    </div>
  </nav>
</header><main class="page-content" aria-label="Content" role="main">
      <div class="wrapper text-right">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  
  <div class="PageNavigation">
    
      <a class="prev" href="/2010/08/10/breaking_news_p_vs_np_proof/">&laquo; הוכחה ש-P שונה מ-NP?</a>
    
    
      <a class="next" href="/2010/08/15/p_vs_np_overview/">אז מה זה עניין P=NP, בעצם? &raquo;</a>
    
  </div>

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">דיון שאינו חסר תוחלת במשתנים מקריים</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2010-08-14T12:18:33+00:00" itemprop="datePublished">Aug 14, 2010
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>בואו נדבר על כסף. רולטה. נניח שאני מהמר בשיטת כך-וכך, בכמה אני זוכה? מכיוון שרולטה היא עסק הסתברותי ובכל משחק אני זוכה או מפסיד משהו שונה, עדיף לשאול שאלה יותר מדוייקת - בכמה <strong>בממוצע</strong> אני זוכה? נניח שאני משחק אלף סיבובים ומרוויח בסך הכל אלף ש”ח, אפשר לומר שבממוצע, זכיתי בש”ח אחד לסיבוב (אפילו אם מה שקרה בפועל הוא שבכל סיבוב הרווחתי מאה ש”ח או הפסדתי מאה ש”ח).</p>

<p>שאלות מהסוג הזה מעבירות אותנו לשלב הבא ב<a href="http://www.gadial.net/2010/07/29/probability_intro/">דיון שלנו</a> <a href="http://www.gadial.net/2010/08/05/conditional_probability/">על הסתברות</a>, ונותנות לנו מוטיבציה להכנסה של מה שהוא אולי המושג המרכזי בהסתברות - המשתנה המקרי. הרעיון במשתנים מקריים הוא להוסיף לנו רמת אבסטרקציה “מעל” מרחב המדגם שמאפשרת לנו לשאול בנוחות שאלות יותר כלליות מאשר “מה הייתה תוצאת ההגרלה?”. הדרך הפשוטה ביותר להסביר זאת היא באמצעות דוגמת הרולטה: בהימור רולטה מרחב המדגם שלנו הוא פשוט יחסית - יש 38 (או 37, תלוי ברולטה) תוצאות אפשריות, וכולן (תיאורטית) שוות הסתברות. לעומת זאת, הסכום שבו אני זוכה (או מפסיד) בסיבוב של הימור הוא כבר מספר שונה לגמרי, שמחושב בצורה מתוחכמת למדי מתוך תוצאת הרולטה (ותלוי, כמובן, גם באופן שבו אני מהמר). לא אכנס כאן לחוקי הזכייה המדוייקים כי אני בכלל לא יודע אותם; אבל לצורך פשטות אפשר להניח משהו מפגר כזה - שאם התקבל ברולטה מספר זוגי אני זוכה ב-5 ש”ח, ואם התקבל מספר אי זוגי אני מפסיד 5 ש”ח.</p>

<p>כעת אפשר למדל את הסיטואציה באופן הסתברותי על ידי <strong>שינוי</strong> של מרחב המדגם - במקום לדבר על מרחב המדגם של הרולטה נדבר על מרחב מדגם פשוט יותר, שאבריו הם הזכיות האפשריות שלי, ו-<span>$latex 5$</span> הוא בעל הסתברות חצי בו, וגם <span>$latex -5$</span> הוא בעל הסתברות חצי בו, וחסל; אלא ששיטת עבודה שכזו, של שינוי מרחב המדגם, היא מסורבלת למדי באופן כללי, ובעייתית מאוד אם אנחנו רוצים לשאול שאלות מורכבות יותר - למשל, “בהינתן שבהטלת שתי קוביות סכום ערכי הקוביות הוא זוגי, מה ההסתברות שגם מכפלתן זוגית?”. לכן משתלם להוסיף למשחק את המושג הפשוט של משתנה מקרי. פורמלית, משתנה מקרי הוא פשוט פונקציה ממרחב המדגם אל המספרים הממשיים (כמובן שאפשר גם יותר מכך אבל אני לא נכנס לזה פה), שמייצגת את ה”ערך” של כל תוצאה אפשרית. מסמנים משתנים מקריים לרוב באותיות לטיניות גדולות, ובפרט ב-<span>$latex X$</span>. אפשר לחשוב על משתנה מקרי כאילו הוא מקבל ערכים באופן הבא: ראשית מבצעים את ההגרלה הבסיסית של מרחב המדגם, ולאחר מכן מחשבים את הפונקציה על תוצאת ההגרלה, וזהו ערכו של <span>$latex X$</span>. לכן השאלה הבסיסית שאפשר לשאול על משתנה מקרי הוא “באיזו הסתברות אתה מקבל את הערך הזה והזה?”. אנחנו נסמן <span>$latex \mbox{P}\left(X=a\right)$</span> בתור ההסתברות ש-<span>$latex X$</span> קיבל את הערך <span>$latex a$</span>. זה כל הבסיס ההגדרתי שאנחנו צריכים כאן.</p>

<p>בואו ניקח דוגמה פשוטה. נניח שאנחנו מטילים שתי קוביות משחק רגילות, ומגדירים משתנה מקרי <span>$latex X$</span> בתור סכומן. מה ההסתברויות לערכים שונים ומשונים ש-<span>$latex X$</span> עשוי לקבל? ברור, למשל, ש-<span>$latex \mbox{\mbox{P}}\left(X=1\right)=0$</span> כי הסכום הוא בין 2 ל-12 (ולכן בעצם <span>$latex \mbox{P}\left(X=a\right)=0$</span> לכל <span>$latex a$</span> שאינו מספר טבעי בין 2 ל-12). כדי לדעת את ההסתברויות לערכים אחרים, כדאי לחשוב קצת על מרחב המדגם שלנו - הוא כולל את כל הזוגות מהצורה <span>$latex \left(a,b\right)$</span> כאשר <span>$latex a,b$</span> בין 1 ל-6. סך הכל ישנם <span>$latex 6\cdot6=36$</span> זוגות אפשריים (עקרון הכפל הקומבינטורי). מכיוון שכל זוג הוא שווה-הסתברות, ההסתברות שלו הוא <span>$latex \frac{1}{36}$</span> (עקרון ה”הסתברות במרחב סופי היא אחד חלקי קומבי”) ולכן כדי לדעת מה ההסתברות לקבל <span>$latex 5$</span>, למשל, צריך לספור את כל הזוגות שנותנים בדיוק 5. זוגות אלו הם <span>$latex \left(1,4\right),\left(2,3\right),\left(3,2\right)\left(4,1\right)$</span>; שימו לב שיש חשיבות לסדר ו-<span>$latex \left(1,4\right)$</span> ו-<span>$latex \left(4,1\right)$</span> הם זוגות שונים (כי הראשון אומר “בהטלה הראשונה קיבלנו 1 ובשנייה 4” והשני אומר “בהטלה הראשונה קיבלנו 4 ובשנייה 1”). לכן ההסתברות לקבל 5 היא <span>$latex \frac{4}{36}=\frac{1}{9}$</span>. את אותו חישוב אפשר לעשות לכל מספר; לא קשה לראות שההסתברות הגדולה ביותר היא לקבל 7, והיא <span>$latex \frac{6}{36}=\frac{1}{6}$</span> ואת ההסתברות הנמוכה ביותר חולקים 2 ו-12, עם הסתברות של <span>$latex \frac{1}{36}$</span>. בקיצור, המשתנה האקראי הזה מקבל ערכים בהסתברויות מאוד לא אחידות, למרות שמרחב המדגם המקורי היה מאוד אחיד. אני רוצה להכניס כאן לשימוש מילה חדשה - <strong>התפלגות</strong>; התפלגות של משתנה מקרי היא בסך הכל שם מקוצר ל”הערכים שהמשתנה המקרי עשוי לקבל וההסתברויות שבהם הוא עשוי לקבל אותן”. אז במקרה הזה אני יכול לומר שהתפלגותו של <span>$latex X$</span> היא מאוד לא אחידה.</p>

<p>הבה נעבור למשתנה מקרי מעניין יותר וחשוב הרבה יותר. נניח שאנחנו מטילים מטבע <span>$latex n$</span> פעמים, אבל לא מדובר על מטבע הוגנת בהכרח - ההסתברות שהיא תיפול על “עץ” היא בדיוק <span>$latex p$</span>, כאשר <span>$latex 0\le p\le1$</span>. מה ההסתברות שהמטבע תיפול <strong>בדיוק</strong> <span>$latex k$</span> פעמים על עץ? כדי למדל את השאלה הזו אנו מגדירים משתנה מקרי <span>$latex X$</span> ש”סופר” את מספר ההטלות שבהן התקבל עץ בהטלה, והשאלה שלנו היא מהו <span>$latex \mbox{P}\left(X=k\right)$</span> לכל <span>$latex 0\le k\le n$</span> טבעי (ברור שלערכים אחרים ההסתברות היא 0 - מדוע?)</p>

<p>מפתה לומר עכשיו משהו בסגנון “ההסתברות ש-<span>$latex X$</span> ייפול על עץ היא <span>$latex p$</span>, אז מעקרון הכפל עולה שההסתברות שהוא ייפול על עץ בדיוק <span>$latex k$</span> פעמים היא <span>$latex p^{k}$</span>”. זו חשיבה בכיוון הנכון, אבל היא שגויה כי היא מתעלמת מגורם נוסף - <span>$latex n$</span>, שהוזכר בתנאי השאלה ומאוד לא סביר שלא ישפיע כלל על הפתרון (זו דרך חשיבה נכונה לחיים באופן כללי - אם פתרתם תרגיל מבלי להשתמש בכל הנתונים, זה מצריך חשיבה נוספת - אם כי, כמובן, לפעמים באמת לא צריך את כל הנתונים והעובדה שהתוצאה אינה תלויה בנתון מסויים שעל פניו נראה הכרחי היא יפה). העניין הוא בכך שאנחנו רוצים שהמטבע יפול על עץ <strong>בדיוק</strong> <span>$latex k$</span> פעמים; ב-<span>$latex n-k$</span> ההטלות הנותרות אנחנו רוצים לקבל פלי. ההסתברות לקבל פלי היא <span>$latex 1-p$</span> (כי מקבלים או עץ או פלי, וסכום ההסתברויות לקבלת שניהם יחד צריך להיות 1), ולכן ההסתברות לקבל <span>$latex k$</span> פעמים עץ וביתר הפעמים פלי היא <span>$latex p^{k}\left(1-p\right)^{n-k}$</span>. כדי לפשט טיפה את הסימון נהוג להגדיר <span>$latex q=1-p$</span> ואז אפשר לכתוב את ההסתברות הזו בתור <span>$latex p^{k}q^{n-k}$</span>.</p>

<p>אבל רגע, גם זה לא נכון! כי שוב, התעלמנו כאן ממשהו. הדרך הטובה לראות זאת היא לבדוק מקרים פרטיים קטנים. נניח ש-<span>$latex n=2$</span> ו-<span>$latex k=1$</span> והמטבע הוגן, כלומר <span>$latex p=\frac{1}{2}$</span>. אז הצבה בנוסחה נותנת לנו <span>$latex \left(\frac{1}{2}\right)^{1}\cdot\left(\frac{1}{2}\right)^{1}=\frac{1}{4}$</span>, כלומר שההסתברות לקבל עץ באחת משתי הטלות היא רבע. אבל בואו נכתוב רגע את מרחב המדגם באופן מפורש, כש-1 הוא תוצאה של עץ ו-0 היא תוצאה של פלי: <span>$latex \left\{ \left(0,0\right),\left(1,0\right),\left(0,1\right),\left(1,1\right)\right\} $</span>. קל לראות שבדיוק בשתיים מארבע התוצאות מקבלים פעם אחת עץ, כלומר ההסתברות צריכה להיות חצי. מה השתבש?</p>

<p>מה שקרה הוא שהתעלמנו מכך שעץ יכול להתקבל פעם אחת <strong>בכמה אופנים שונים</strong>. במקרה הפשוט שלנו, אפשר לקבל פעם אחת עץ בהטלה הראשונה (ואז בשניה יהיה פלי), או שאפשר לקבל עץ פעם אחת בהטלה השניה (ואז בראשונה יהיה פלי). זה לא בא לידי ביטוי בספירה שלנו. באופן כללי, התשובה <span>$latex p^{k}q^{n-k}$</span> איננה התשובה הנכונה לשאלה “מה ההסתברות שעץ יתקבל בדיוק <span>$latex k$</span> פעמים” אלא לשאלה “מה ההסתברות שעץ יתקבל בדיוק ב-<span>$latex k$</span> המקומות הספציפיים הבאים…”. למשל, מה ההסתברות שעץ יתקבל בדיוק ב-<span>$latex k$</span> ההטלות הראשונות, או ב-<span>$latex k$</span> ההטלות האחרונות, וכדומה. לכל בחירה אפשרית של <span>$latex k$</span> מקומות שבהם יתקבל עץ, ההסתברות שדווקא הסיטואציה הזו תתקיים היא <span>$latex p^{k}q^{n-k}$</span>; אבל יש הרבה בחירות אפשריות כאלו. כמה יש? ובכן, כשדיברנו על קומבינטוריקה כיסינו בדיוק את השאלה הזו - יש <span>$latex {n \choose k}$</span> בחירות אפשריות שכאלו, ולכן <span>$latex \mbox{P}\left(X=k\right)={n \choose k}p^{k}q^{n-k}$</span>. נראה מוכר? אכן, <span>$latex {n \choose k}p^{k}q^{n-k}$</span> היה בדיוק האיבר הכללי בנוסחת <a href="http://www.gadial.net/2010/06/22/newton_binom/">הבינום של ניוטון</a>; ולכן ההתפלגות של <span>$latex X$</span> שלנו מכונה “התפלגות בינומית”. מכיוון שההתפלגות הבינומית תלויה בשני ערכים - מספר החזרות <span>$latex n$</span> וההסתברות להצלחה בכל חזרה <span>$latex p$</span>, נהוג לכתוב <span>$latex X\sim\mbox{Bin}\left(n,p\right)$</span> (קרי: “<span>$latex X$</span> מתפלג בינומית עם פרמטרים <span>$latex n,p$</span>”) כדי לתאר באופן מקוצר את ההתפלגות הזו.</p>

<p>בדיקת השפיות שיש לעשות לאחר חישוב התפלגות של משתנה מקרי כלשהי היא לסכום את הסתברות כל הערכים ש-<span>$latex X$</span> יכול לקבל ולוודא שקיבלנו 1. במקרה שלנו, פירוש הדבר הוא לבדוק שהסכום <span>$latex \sum_{k=0}^{n}{n \choose k}p^{k}q^{n-k}$</span> הוא 1. כאן נחלץ הבינום של ניוטון לעזרתנו - הסכום הזה שווה, על פי הבינום של ניוטון, ל-<span>$latex \left(p+q\right)^{n}$</span>; אבל <span>$latex p+q=1$</span> ולכן הסכום אכן שווה ל-1, כנדרש. שימו לב שכאן אנחנו משתמשים בנוסחת הבינום בכיוון שהוא לכאורה ההפוך - במקום “לפתוח” את הסוגריים אנחנו דווקא מצמצמים סכום “אל תוך” הסוגריים. זה שימוש שיותר נדיר לראות כשאתה תיכוניסט ופותר תרגילים טכניים, אבל הוא כנראה יותר נפוץ בעולם המתמטי האמיתי.</p>

<p>בואו נעבור עכשיו לשאלה של תחילת הפוסט - מהו “הערך הממוצע” שמקבל משתנה מקרי. הערך הזה מכונה <strong>תוחלת</strong>, ונהוג לסמן אותו ב-<span>$latex \mbox{E}\left[X\right]$</span> (E מהמילה Expectation). כדי לראות איך מחשבים אותו, בואו ונתבונן בדוגמה פשוטה - שוב הטלת מטבע עם הסתברות <span>$latex p$</span> לקבלת עץ. נניח שכשיוצא עץ אנחנו מרוויחים 2 ש”ח, וכשיוצא פלי אנחנו מפסידים 3 ש”ח - עבור איזו הסתברות <span>$latex p$</span> נוכל בממוצע להרוויח? די ברור ש-<span>$latex p$</span> צריך להיות גדול מחצי כי המשחק אינו הוגן, אבל כמה?</p>

<p>בואו נניח שאנחנו משחקים <span>$latex n$</span> משחקים, ומתוכם ב-<span>$latex a$</span> משחקים קיבלנו עץ, וב-<span>$latex b$</span> משחקים קיבלנו פלי. אז הרווח הממוצע שלנו הוא <span>$latex \frac{2a-3b}{n}$</span> - זהו בעצם <strong>ממוצע משוקלל</strong> שבו המשקולת של התוצאה <span>$latex 2$</span> היא מספר הפעמים הצפוי שהיא תצוץ בו, וכך עבור התוצאה <span>$latex -3$</span>. את הממוצע המשוקלל הזה אפשר לכתוב גם כ-<span>$latex 2\frac{a}{n}-3\frac{b}{n}$</span>. ככל ש-<span>$latex n$</span> גדול יותר כך אנו מצפים שהערכים <span>$latex \frac{a}{n}$</span> ו-<span>$latex \frac{b}{n}$</span> ילכו ויתייצבו - אנו מצפים ש-<span>$latex \frac{a}{n}$</span> יישאף ל-<span>$latex p$</span> (ולכן ש-<span>$latex \frac{b}{n}$</span> יישאף ל-<span>$latex q$</span>). זהו כמובן נפנוף ידיים, אבל חשוב לזכור שאי אפשר להוכיח מתמטית את הטענה הזו, שהיא בסופו של דבר טענה אמפירית, ואפילו הגדרתית; הרי איך אנחנו מפרשים את “ההסתברות שהאירוע יקרה היא <span>$latex p$</span>” אם לא בתור “כשנחזור על אותו ניסוי מספר רב של פעמים הפרופורציה של הפעמים שבהן נקבל את התוצאה הזו תשאף ל-<span>$latex p$</span>”? (ובכן, כן, יש דרכים שונות לגשת לכך, אבל זה כבר עניין לפוסט נפרד).</p>

<p>אם כן, הרווח הממוצע שלנו שואף ל-<span>$latex p\cdot2+q\cdot\left(-3\right)$</span>. ושוב, הדרך הנכונה לחשוב על כך היא כעל שקלול של הערכים האפשריים ש-<span>$latex X$</span> יכול לקבל, כשהמשקולת של כל ערך היא ההסתברות שנקבל אותו. אם נציב <span>$latex q=1-p$</span> נקבל <span>$latex \mbox{E}\left[X\right]=2p-3\left(1-p\right)=5p-3$</span>, ולכן כאשר <span>$latex p=\frac{3}{5}$</span> התוחלת היא אפס (כלומר, אנחנו לא מצפים לא להרוויח ולא להפסיד מהמשחק בטווח הארוך) וכמובן שעבור ערכי <span>$latex p$</span> גדולים יותר היא תהיה חיובית.</p>

<p>באופן יותר כללי ופורמלי התוחלת מוגדרת כך: <span>$latex \mbox{E}\left[X\right]=\sum a\cdot\mbox{P}\left[X=a\right]$</span>, כשהסכום נלקח על פני כל הערכים <span>$latex a$</span> שהמשתנה <span>$latex X$</span> בכלל יכול לקבל. אתם עשויים לשאול מה יקרה אם <span>$latex X$</span> יכול לקבל אינסוף ערכים שונים; במקרה זה אכן מקבלים סכום אינסופי וצריך לטפל בו בכלים המתאימים לסכומים אינסופיים - חומר שחורג ממה שנלמד בתיכון, אך הוא סטנדרטי למדי במתמטיקה אוניברסיטאית.</p>

<p>לעת עתה, הבה ונבצע חישוב שהוא סופי, אך גם כן אינו פשוט לגמרי - נניח כי <span>$latex X\sim\mbox{Bin}\left(n,p\right)$</span>, מהי <span>$latex \mbox{E}\left[X\right]$</span>? הבה ונבצע את החישוב באופן ישיר, על פי ההגדרה: <span>$latex \mbox{E}\left[X\right]=\sum_{k=0}^{n}k\cdot{n \choose k}p^{k}q^{n-k}$</span>. אוי ווי. מבט אחד בסכום ובא לבכות. איך בכל זאת מטפלים בסכומים כאלו? ובכן, יש תעלולים שמשתמשים בחשבון דיפרנציאלי בסיסי ומאפשרים לחשב אותו במדוייק, אך זה דורש פוסט משל עצמו ואני מעדיף לא להיכנס לכך כעת. במקום זאת אציג גישה שונה לגמרי לחישוב התוחלת, שתהפוך את פתרון השאלה הזו לטריוויאלי, ובתקווה תתחיל להמחיש עד כמה הדיבורים על משתנים מקריים מועילים לנו.</p>

<p>בואו נדבר לרגע על בעיה שלכאורה בלתי קשורה בעליל לבעיה שלנו - נניח שיש לנו מרחב הסתברות ומעליו אנו מגדירים שני משתנים מקריים שונים <span>$latex X,Y$</span> (למשל - <span>$latex X$</span> הוא סכום הערכים בהטלת שתי קוביות ו-<span>$latex Y$</span> הוא מכפלתם). כעת אנו מסוגלים להגדיר באמצעותם משתנים מקריים נוספים, למשל <span>$latex Z=X+Y$</span>. האם ניתן לתאר את <span>$latex \mbox{E}\left[Z\right]$</span> באופן פשוט באמצעות <span>$latex \mbox{E}\left[X\right]$</span> ו-<span>$latex \mbox{E}\left[Y\right]$</span>? למשל, האם אפשר לקוות למשוואה יפה כמו <span>$latex \mbox{E}\left[Z\right]=\mbox{E}\left[X\right]+\mbox{E}\left[Y\right]$</span>? התשובה חיובית. למעשה, למרות שזה אולי לא נראה כך, זו תשובה מפתיעה למדי למי שכבר השתפשף קצת, שכן היא נכונה בלי קשר לשאלה האם יש תלות בין <span>$latex X,Y$</span> או אין. איכשהו אנחנו מצליחים לחשב את תוחלת <span>$latex Z$</span> על ידי הסתכלות על <span>$latex X$</span> ו-<span>$latex Y$</span> <strong>בנפרד</strong>, למרות שכל ערך ש-<span>$latex Z$</span> מקבל תלוי בתוצאה של שניהם <strong>יחד</strong> (עם זאת, לעתים התלות כן חשובה - למשל, <span>$latex \mbox{E}\left[XY\right]=\mbox{E}\left[X\right]\mbox{E}\left[Y\right]$</span> לא מתקיים תמיד, אבל כן מתקיים בודאות אם הם בלתי תלויים). ההוכחה של הטענה הזו אינה כה קשה אך היא דורשת הכנסת עוד מושג אחד לתמונה (התפלגות משותפת של משתנים מקריים) ולא אכנס לכך כעת.</p>

<p>כעת הבה ונסתכל על המשתנה הבינומי באופן קצת שונה. נגדיר משתנים <span>$latex X_{1},X_{2},\dots,X_{n}$</span> כך ש-<span>$latex X_{k}$</span> הוא המשתנה שמקבל 1 אם בהטלת המטבע ה-<span>$latex k$</span>-ית התקבל עץ, ו-0 אם התקבל פלי. למשתנה כזה, שמקבל או 0 או 1, קוראים “אינדיקטור”, ואחד היתרונות שבו הוא שחישוב התוחלת שלו טריוויאלי: על פי הגדרה, <span>$latex \mbox{E}\left[X_{i}\right]=p\cdot1+q\cdot0=p$</span>, כלומר התוחלת של אינדיקטור שווה להסתברות שהוא יקבל 1.</p>

<p>כעת, <span>$latex X=\sum_{k=0}^{n}X_{k}$</span> - לכל סדרת הטלות במרחב המדגם, מספר ההטלות שבהן התקבל עץ באותה סדרה שווה למספר האינדיקטורים שקיבלו 1 עבור סדרה זו. על פי נוסחת התוחלת שלמעלה (שניתנה עבור שני משתנים אבל נכונה באותה המידה גם עבור <span>$latex n$</span> או כל סכום סופי אחר של משתנים), החישוב הוא כעת טריוויאלי:</p>

<p><span>$latex \mbox{E}\left[X\right]=\mbox{E}\left[\sum_{k=0}^{n}X_{k}\right]=\sum_{k=0}^{n}\mbox{E}\left[X_{k}\right]=\sum_{k=0}^{n}p=np$</span></p>

<p>וזוהי אכן התוחלת של משתנה שמתפלג בינומית עם פרמטרים <span>$latex n,p$</span> - וגם אינטואיטיבית תוצאה זו די ברורה (אם למשל <span>$latex p=\frac{1}{2}$</span>, אנחנו מצפים שבערך בחצי מההטלות נקבל עץ, כלומר ב-<span>$latex n\cdot\frac{1}{2}$</span>). עם זאת, ברור שהחישוב שנתתי כעת קל מהחישוב הטכני שהיינו צריכים לבצע אם היינו משתמשים ישירות בהגדרה. כמו שאוהבים לומר, מתמטיקאים הם עצלנים, ולכן התוצאות התיאורטיות שהם מוכיחים נועדות (לפעמים…) לעשות את החישובים המעצבנים לקלים יותר.</p>

<p>נו, תשאלו בעצבנות, אז מה עם הרולטה? בכמה בממוצע אני זוכה אם אני משחק ברולטה? ובכן, אין לי מושג - זה סתם חישובים טכניים מעצבנים. אבל אני יכול להבטיח לכם שבשורה התחתונה, אתם מפסידים. הקזינו לא טמבל.</p>

  </div>

  <hr />
  <p>
    נהניתם? התעניינתם? אם תרצו, אתם מוזמנים לתת טיפ:
  </p>
  <a href='https://ko-fi.com/H2H5XFBQ' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://az743702.vo.msecnd.net/cdn/kofi2.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a><div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://gadial.net/2010/08/14/random_variables/';
      this.page.identifier = 'http://gadial.net/2010/08/14/random_variables/';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://not-precise.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><a class="u-url" href="/2010/08/14/random_variables/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">לא מדויק</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">לא מדויק</li><li><a class="u-email" href="mailto:gadial@gmail.com">gadial@gmail.com</a></li><li>&copy; כל הזכויות שמורות לגדי אלכסנדרוביץ'</li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.facebook.com/%D7%9C%D7%90-%D7%9E%D7%93%D7%95%D7%99%D7%A7-163347110378474"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#facebook"></use></svg> <span class="username">לא מדויק</span></a></li><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>RSS</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>בלוג על מתמטיקה ומדעי המחשב</p>
      </div>
    </div>

  </div>

</footer>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="assets/js/jquery-slim.min.js"><\/script>')</script><script src="/assets/js/bootstrap.bundle.js"></script><!-- Default Statcounter code for New blog
http://www.gadial.net/ -->
<script type="text/javascript">
  var sc_project=5444342; 
  var sc_invisible=1; 
  var sc_security="4a89cbe4"; 
  </script>
  <script type="text/javascript"
  src="https://www.statcounter.com/counter/counter.js"
  async></script>
  <noscript><div class="statcounter"><a title="Web Analytics"
  href="https://statcounter.com/" target="_blank"><img
  class="statcounter"
  src="https://c.statcounter.com/5444342/0/4a89cbe4/1/"
  alt="Web Analytics"></a></div></noscript>
  <!-- End of Statcounter Code --></body>

</html>
